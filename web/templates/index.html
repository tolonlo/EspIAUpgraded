{% load static %}

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Control de Playlist con Gestos</title>
    <link rel="stylesheet" href="{% static 'css/styles-home.css' %}">
</head>

<body>
    <!-- Logo -->
    <img src="{% static 'images/logo.png' %}" alt="Logo" class="logo" />
    <a href="/login">
        <button class="login-button">Login / Conectar App</button>
    </a>

    <div class="container">
        <div class="column">
            <h2>Cámara</h2>
            <div id="camera">
                <video id="video" autoplay></video>
                <canvas id="canvas" style="display: none;"></canvas>
            </div>
            <div style="position: relative; display: inline-block;">
                <button onclick="toggleCamera()">Encender/Apagar Cámara</button>
                <p id="gestureBox" class="gesture-box" style="margin-top: 10px; padding: 10px; border: 2px solid #333; border-radius: 5px;">
                    Esperando detección de gesto...
                </p>
                <button onclick="enviarImagen()">Enviar imagen</button>
            </div>
        </div>

        <div class="column">
            <h2>Reproductor</h2>
            <div class="player">
                <div id="currentSongTitle">Lalala</div> <!-- Aquí mostramos el título dinámico -->

                <div class="progress-bar" id="progressBar">
                    <div class="progress"></div>
                </div>
                <div class="controls">
                    <button onclick="manualPrev()">⏮</button>
                    <button class="middle" onclick="manualPlay()">▶</button>
                    <button onclick="manualNext()">⏭</button>
                </div>
            </div>
            <h3>Lista de Canciones</h3>
            <ul class="song-list" id="songList">
                <!-- Aquí las canciones se cargarán con JS -->
            </ul>
        </div>
    </div>

    <audio id="audioPlayer" src="{% static 'audio/cancion1.mp3' %}"></audio>

    <div id="termsModal" style="display: flex; position: fixed; top:0; left:0; width:100%; height:100%; 
    background: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 1000;">
    <div style="background: #fff; color:#000; padding: 20px; border-radius: 8px; max-width: 500px; max-height: 80vh; overflow-y: auto; text-align: justify;">
        <h2>Términos y Condiciones</h2>
        <p>Este sitio web es un proyecto universitario que permite controlar la reproducción de música mediante gestos utilizando la cámara del dispositivo.</p>
        <ul>
            <li>Debes permitir el acceso a la cámara para que la detección de gestos funcione.</li>
            <li>La música es solo para uso personal y educativo, sin fines comerciales.</li>
            <li>No almacenamos videos ni imágenes de la cámara.</li>
            <li>No recopilamos ni compartimos información personal.</li>
            <li>No nos hacemos responsables por daños o pérdidas de datos.</li>
            <li>Usa la app bajo tu propio riesgo.</li>
            <li>Los términos pueden cambiar sin previo aviso.</li>
        </ul>
        <button id="acceptTerms" style="padding: 10px 20px; background:#2C1B3A; color:white; border:none; border-radius:5px; cursor:pointer;">Aceptar</button>
    </div>

</div>

 <script src="{% static 'js/app.js' %}"></script>
</body>

</html>
